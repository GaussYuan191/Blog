{"title":"常见的功能函数","slug":"常见的功能函数","date":"2022-02-16","updated":"2022-02-16","comments":true,"path":"api/posts/19005.json","excerpt":"<p></p>","cover":"/gallery/js-2022-2-16.jpeg","covers":["/gallery/js-2022-2-16.jpeg"],"content":"<p><img src=\"/gallery/js-2022-2-16.jpeg\" alt=\"\"></p><a id=\"more\"></a><h1 id=\" 对象扁平化 \"><a class=\"headerlink\"href=\"# 对象扁平化 \"></a>对象扁平化 </h1><p> 主要是通过递归，使嵌套的数据扁平</p><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 创建判断对象的函数</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">isObject</span>(<span class=\"params\">obj</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"built_in\">Object</span>.prototype.toString.call(obj).slice(<span class=\"number\">8</span>, <span class=\"number\">-1</span>) === <span class=\"string\">'Object'</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">flatObject</span> (<span class=\"params\">obj, pre = <span class=\"string\">''</span>, res = &#123;&#125;</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!obj) <span class=\"keyword\">return</span>;</span><br><span class=\"line\">    <span class=\"built_in\">Reflect</span>.ownKeys(obj).forEach(<span class=\"function\">(<span class=\"params\">key</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> perKey = pre + key;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (isObject(obj[key])) &#123;</span><br><span class=\"line\">            flatObject(obj[key], perKey + <span class=\"string\">'.'</span>, res);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            res[perKey] = obj[key];</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;)  </span><br><span class=\"line\">    <span class=\"keyword\">return</span> res;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","url":"/posts/19005/","min2read":"1","word4post":89,"prev_post":null,"next_post":{"title":"Reflect 对象解析","url":"/posts/60673/"},"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" data-id=\" 对象扁平化 \" href = \"#\"><span class=\"toc-number\">1.</span> <span class=\"toc-text\">对象扁平化 </span></a></li></ol>","categories":[{"name":"功能函数","path":"api/categories/功能函数.json","url":"/categories/功能函数/"}],"tags":[{"name":"js","path":"api/tags/js.json","url":"/tags/js/"}]}